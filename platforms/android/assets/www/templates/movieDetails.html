<div class="top-bar">
    <a ng-href="{{back}}" class="back"></a>
    <div class="title-container">{{model.movieDetails.title}}</div>
</div>

<div class="main-container movie-details">

    <video-player ng-if="model.movieDetails.trailer.url"></video-player>

    <p ng-if="displayShowtimesButtons">
        <a class="button" ng-href="#/showtimesByTheater/gps/{{code}}">Près de moi</a>
        <a class="button right" ng-if="model.userSettings.favoriteTheaters.length > 0" ng-href="#/showtimesByTheater/favorites/{{code}}"> Cinémas favoris </a>
        <span class="button right grey" ng-if="model.userSettings.favoriteTheaters.length === 0">Cinémas favoris</span>
    </p>

    <div class="title">Notation</div>
    <p>
        <span class="rating-category">Spectateurs</span> ( {{model.movieDetails.ratings.userRatingCount}} avis )<span class="stars">{{model.movieDetails.ratings.userRating | formatRating}}</span>
        <br/>
        <span class="rating-category">Presse</span> ( {{model.movieDetails.ratings.pressReviewCount}} avis )<span class="stars">{{model.movieDetails.ratings.pressRating | formatRating}}</span>
    </p>

    <div class="title">Synopsis</div>
    <p>
        {{model.movieDetails.synopsis}}
    </p>

    <div class="title" ng-if="model.movieDetails.castMember.length > 0">Casting</div>
    <p ng-repeat="item in model.movieDetails.castMember | limitTo:7" class="person">
        <span class="thumbnail" style="background-image: url('{{item.picture.href}}');"></span>
        <span class="name">{{item.person.name}}</span>
        <span ng-if="item.activity.$ !== 'Acteur' && item.activity.$ !== 'Actrice'">{{item.activity.$}}</span>
        <span ng-if="item.activity.$ === 'Acteur' || item.activity.$ === 'Actrice'">dans le rôle de {{item.role}}</span>
    </p>

    <div class="title" ng-if="model.movieDetails.helpfulPositiveReview[ 0 ].body">
        Un avis positif
    </div>
    <p ng-if="model.movieDetails.helpfulPositiveReview[ 0 ].body">
        {{model.movieDetails.helpfulPositiveReview[ 0 ].body}}
    </p>

    <div class="title" ng-if="model.movieDetails.helpfulNegativeReview[ 0 ].body">
        Un avis négatif
    </div>
    <p ng-if="model.movieDetails.helpfulNegativeReview[ 0 ].body">
        {{model.movieDetails.helpfulNegativeReview[ 0 ].body}}
    </p>

</div>